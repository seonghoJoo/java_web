<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="crewMembers">
	<!--20210112 1615 주성호 헤더 -->
	<select id="selectOwnList" parameterType="int"  resultType="CrewMember">
		SELECT m.no, c.no, user_no userNo, role, report_num reportNum, profile_img profileImg, introduction, type, m.regdate,cover_img coverImg
		FROM crew_members m, crews c
		WHERE m.user_no=#{no} AND m.crew_no = c.no
		ORDER BY 9
	</select>
	
	<insert id="insertCrewMemberByCaptin" parameterType="CrewMember">
		INSERT INTO crews_members(no, CREW_NO, USER_NO, ROLE, REPORT_NUM, PROFILE_IMG, INTRODUCTION, TYPE, regdate)
		VALUES(crew_members_seq.nextval, #{crewNo},#{userNo},#{role},#{reportNum},#{profileImg},#{introduction},#{type}, systimestamp)
	</insert>
	
</mapper>